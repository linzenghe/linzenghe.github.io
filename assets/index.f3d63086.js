var e=Object.defineProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(a,o,s)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[o]=s,r=(e,r)=>{for(var n in r||(r={}))o.call(r,n)&&l(e,n,r[n]);if(a)for(var n of a(r))s.call(r,n)&&l(e,n,r[n]);return e};import{d as n,D as t,q as i,u as p,f as d,H as c,_ as u,g as m,m as g,t as w,p as y,a as f,r as h,o as v,b,e as T,U as k,k as F,w as O,v as V}from"./vendor.747455e6.js";import{u as P,U as _,i as R}from"./index.5cb36c0a.js";var j=n({setup(){const e=t(null),a=t(null),o=t(null),s=i(),l=p(),n=P(),y=d({loginForm:{username:"admin",password:"123456"},loginRules:{username:[{validator:(e,a,o)=>{R(a)?o():o(new Error("Please enter the correct user name"))},trigger:"change"}],password:[{validator:(e,a,o)=>{a.length<6?o(new Error("The password can not be less than 6 digits")):o()},trigger:"change"}]},passwordType:"password",loading:!1,capsTooltip:!1,redirect:"",otherQuery:{}}),f=d({checkCapslock:e=>{const{key:a}=e;y.capsTooltip=null!==a&&1===a.length&&a>="A"&&a<="Z"},showPwd:()=>{"password"===y.passwordType?y.passwordType="":y.passwordType="password",c((()=>{a.value.focus()}))},handleLogin:()=>{o.value.validate((async e=>{if(!e)return!1;y.loading=!0,await n.dispatch("user/"+_.ACTION_LOGIN,y.loginForm),s.push({path:y.redirect||"/",query:y.otherQuery}).catch((e=>{console.warn(e)})),u.success("登录成功"),y.loading=!1}))}});return m((()=>l.query),(e=>{var a,o;e&&(y.redirect=null!=(o=null==(a=e.redirect)?void 0:a.toString())?o:"",y.otherQuery=function(e){return Object.keys(e).reduce(((a,o)=>("redirect"!==o&&(a[o]=e[o]),a)),{})}(e))})),g((()=>{""===y.loginForm.username?e.value.focus():""===y.loginForm.password&&a.value.focus()})),r(r({userNameRef:e,passwordRef:a,loginFormRef:o},w(y)),w(f))}});const x=O();y("data-v-0e1707a0");const C={class:"login-container"},U=T("div",{class:"title-container"},[T("h3",{class:"title"},"VITE 后台管理系统")],-1),I=T("span",{class:"svg-container"},[T("i",{class:"el-icon-user"})],-1),E=T("span",{class:"svg-container"},[T("i",{class:"el-icon-lock"})],-1),L=V("登 录"),N=T("div",{style:{position:"relative"}},[T("div",{class:"tips"},[T("span",null,"Username : admin"),T("span",null,"Password : 123456")]),T("div",{class:"tips"},[T("span",{style:{"margin-right":"18px"}},"Username : editor"),T("span",null,"Password : any")])],-1);f();const q=x(((e,a,o,s,l,r)=>{const n=h("el-input"),t=h("el-form-item"),i=h("el-tooltip"),p=h("el-button"),d=h("el-form");return v(),b("div",C,[T(d,{ref:"loginFormRef",model:e.loginForm,rules:e.loginRules,class:"login-form",autocomplete:"on","label-position":"left"},{default:x((()=>[U,T(t,{prop:"username"},{default:x((()=>[I,T(n,{ref:"userNameRef",modelValue:e.loginForm.username,"onUpdate:modelValue":a[1]||(a[1]=a=>e.loginForm.username=a),placeholder:"账号",name:"username",type:"text",tabindex:"1",autocomplete:"on"},null,8,["modelValue"])])),_:1}),T(i,{modelValue:e.capsTooltip,"onUpdate:modelValue":a[5]||(a[5]=a=>e.capsTooltip=a),content:"Caps lock is On",placement:"right",manual:""},{default:x((()=>[T(t,{prop:"password"},{default:x((()=>[E,T(n,{key:e.passwordType,ref:"passwordRef",modelValue:e.loginForm.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.loginForm.password=a),type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",autocomplete:"on",onKeyup:[e.checkCapslock,k(e.handleLogin,["enter"])],onBlur:a[3]||(a[3]=a=>e.capsTooltip=!1)},null,8,["modelValue","type","onKeyup"]),T("span",{class:"show-pwd",onClick:a[4]||(a[4]=(...a)=>e.showPwd&&e.showPwd(...a))},[T("i",{class:["iconfont","password"===e.passwordType?"icon-eye":"icon-eye-open"]},null,2)])])),_:1})])),_:1},8,["modelValue"]),T(p,{loading:e.loading,type:"primary",style:{width:"100%","margin-bottom":"30px"},onClick:F(e.handleLogin,["prevent"])},{default:x((()=>[L])),_:1},8,["loading","onClick"]),N])),_:1},8,["model","rules"])])}));j.render=q,j.__scopeId="data-v-0e1707a0";export default j;
