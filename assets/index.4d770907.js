var e,t,a=Object.defineProperty,n=Object.defineProperties,s=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var a in t||(t={}))i.call(t,a)&&l(e,a,t[a]);if(o)for(var a of o(t))r.call(t,a)&&l(e,a,t[a]);return e},d=(e,t)=>n(e,s(t));import{C as u,d as E,u as p,c as m,p as _,a as h,r as f,o as T,b as v,e as I,K as g,T as S,w as A,f as C,g as O,h as b,t as w,F as D,i as L,j as V,k as N,l as y,m as k,n as R,_ as x,q as P,s as H,v as W,x as G,y as M,z as F,A as B,B as U,D as j,G as $,E as K,H as z,I as q,J as Z,L as X,M as Y,N as J,O as Q,P as ee,Q as te,R as ae,S as ne}from"./vendor.747455e6.js";(t=e||(e={})).SET_TOKEN="SET_TOKEN",t.SET_NAME="SET_NAME",t.SET_AVATAR="SET_AVATAR",t.SET_INTRODUCTION="SET_INTRODUCTION",t.SET_ROLES="SET_ROLES",t.SET_EMAIL="SET_EMAIL";const se={[e.SET_TOKEN](e,t){e.token=t},[e.SET_NAME](e,t){e.name=t},[e.SET_AVATAR](e,t){e.avatar=t},[e.SET_INTRODUCTION](e,t){e.introduction=t},[e.SET_ROLES](e,t){e.roles=t,console.log("state.roles",e.roles)},[e.SET_EMAIL](e,t){e.email=t}};let oe;const ie={},re=function(e,t){if(!t)return e();if(void 0===oe){const e=document.createElement("link").relList;oe=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in ie)return;ie[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":oe,t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e()))};class le{}le.sidebarStatusKey="vite-admin-sidebarStatusKey",le.sizeKey="vite-admin-sizeKey",le.tokenKey="vite-admin-access-token",le.aseKey="vite-admin-ase-key",le.refreshTokenKey="vite-admin-refresh-token";const ce=e=>u.set(le.sidebarStatusKey,e),de=e=>u.set(le.tokenKey,e),ue=()=>{u.remove(le.tokenKey),u.remove(le.refreshTokenKey)};var Ee,pe;(pe=Ee||(Ee={}))[pe.Mobile=0]="Mobile",pe[pe.Desktop=1]="Desktop";const me={device:1,sidebar:{opened:"closed"!==u.get(le.sidebarStatusKey),withoutAnimation:!1},size:u.get(le.sizeKey)||"medium"};var _e,he;(he=_e||(_e={})).TOGGLE_SIDEBAR="TOGGLE_SIDEBAR",he.CLOSE_SIDEBAR="CLOSE_SIDEBAR",he.TOGGLE_DEVICE="TOGGLE_DEVICE",he.SET_LANGUAGE="SET_LANGUAGE",he.SET_SIZE="SET_SIZE";const fe={[_e.TOGGLE_SIDEBAR](e,t){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=t,e.sidebar.opened?ce("opened"):ce("closed")},[_e.CLOSE_SIDEBAR](e,t){e.sidebar.opened=!1,e.sidebar.withoutAnimation=t,ce("closed")},[_e.TOGGLE_DEVICE](e,t){e.device=t},[_e.SET_SIZE](e,t){e.size=t,(e=>{u.set(le.sizeKey,e)})(e.size)}};var Te,ve;(ve=Te||(Te={})).ACTION_TOGGLE_SIDEBAR="ACTION_TOGGLE_SIDEBAR",ve.ACTION_CLOSE_SIDEBAR="ACTION_CLOSE_SIDEBAR",ve.ACTION_TOGGLE_DEVICE="ACTION_TOGGLE_DEVICE",ve.ACTION_SET_LANGUAGE="ACTION_SET_LANGUAGE",ve.ACTION_SET_SIZE="ACTION_SET_SIZE";const Ie={[Te.ACTION_TOGGLE_SIDEBAR]({commit:e},t){e(_e.TOGGLE_SIDEBAR,t)},[Te.ACTION_CLOSE_SIDEBAR]({commit:e},t){e(_e.CLOSE_SIDEBAR,t)},[Te.ACTION_TOGGLE_DEVICE]({commit:e},t){e(_e.TOGGLE_DEVICE,t)},[Te.ACTION_SET_SIZE]({commit:e},t){e(_e.SET_SIZE,t)}};var ge=E({name:"AppMain",setup(){const e=Ga(),t=p();return{cachedViews:m((()=>e.state.tagsView.cachedViews)),key:m((()=>t.path))}}});const Se=A();_("data-v-1d838089");const Ae={class:"app-main"};h();const Ce=Se(((e,t,a,n,s,o)=>{const i=f("router-view");return T(),v("section",Ae,[I(S,{name:"fade-transform",mode:"out-in"},{default:Se((()=>[(T(),v(g,{include:e.cachedViews},[I(i,{key:e.key})],1032,["include"]))])),_:1})])}));function Oe(e,t){void 0===t&&(t={});for(var a=function(e){for(var t=[],a=0;a<e.length;){var n=e[a];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:a,value:e[a++]});else{var s=1,o="";if("?"===e[r=a+1])throw new TypeError('Pattern cannot start with "?" at '+r);for(;r<e.length;)if("\\"!==e[r]){if(")"===e[r]){if(0==--s){r++;break}}else if("("===e[r]&&(s++,"?"!==e[r+1]))throw new TypeError("Capturing groups are not allowed at "+r);o+=e[r++]}else o+=e[r++]+e[r++];if(s)throw new TypeError("Unbalanced pattern at "+a);if(!o)throw new TypeError("Missing pattern at "+a);t.push({type:"PATTERN",index:a,value:o}),a=r}else{for(var i="",r=a+1;r<e.length;){var l=e.charCodeAt(r);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;i+=e[r++]}if(!i)throw new TypeError("Missing parameter name at "+a);t.push({type:"NAME",index:a,value:i}),a=r}else t.push({type:"CLOSE",index:a,value:e[a++]});else t.push({type:"OPEN",index:a,value:e[a++]});else t.push({type:"ESCAPED_CHAR",index:a++,value:e[a++]});else t.push({type:"MODIFIER",index:a,value:e[a++]})}return t.push({type:"END",index:a,value:""}),t}(e),n=t.prefixes,s=void 0===n?"./":n,o="[^"+function(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}(t.delimiter||"/#?")+"]+?",i=[],r=0,l=0,c="",d=function(e){if(l<a.length&&a[l].type===e)return a[l++].value},u=function(e){var t=d(e);if(void 0!==t)return t;var n=a[l],s=n.type,o=n.index;throw new TypeError("Unexpected "+s+" at "+o+", expected "+e)},E=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};l<a.length;){var p=d("CHAR"),m=d("NAME"),_=d("PATTERN");if(m||_){var h=p||"";-1===s.indexOf(h)&&(c+=h,h=""),c&&(i.push(c),c=""),i.push({name:m||r++,prefix:h,suffix:"",pattern:_||o,modifier:d("MODIFIER")||""})}else{var f=p||d("ESCAPED_CHAR");if(f)c+=f;else if(c&&(i.push(c),c=""),d("OPEN")){h=E();var T=d("NAME")||"",v=d("PATTERN")||"",I=E();u("CLOSE"),i.push({name:T||(v?r++:""),pattern:T&&!v?o:v,prefix:h,suffix:I,modifier:d("MODIFIER")||""})}else u("END")}}return i}function be(e,t){return function(e,t){void 0===t&&(t={});var a=function(e){return e&&e.sensitive?"":"i"}(t),n=t.encode,s=void 0===n?function(e){return e}:n,o=t.validate,i=void 0===o||o,r=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",a)}));return function(t){for(var a="",n=0;n<e.length;n++){var o=e[n];if("string"!=typeof o){var l=t?t[o.name]:void 0,c="?"===o.modifier||"*"===o.modifier,d="*"===o.modifier||"+"===o.modifier;if(Array.isArray(l)){if(!d)throw new TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===l.length){if(c)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var u=0;u<l.length;u++){var E=s(l[u],o);if(i&&!r[n].test(E))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+E+'"');a+=o.prefix+E+o.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var p=d?"an array":"a string";throw new TypeError('Expected "'+o.name+'" to be '+p)}}else{E=s(String(l),o);if(i&&!r[n].test(E))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+E+'"');a+=o.prefix+E+o.suffix}}else a+=o}return a}}(Oe(e,t),t)}ge.render=Ce,ge.__scopeId="data-v-1d838089";var we=E({name:"Breadcrumb",setup(){const e=p(),t=C({levelList:[],getBreadcrumb:()=>{let a=e.matched.filter((e=>e.meta&&e.meta.title));const n=a[0];t.isDashboard(n)||(a=[{path:"/dashboard",meta:{title:"首页"}}].concat(a)),t.levelList=a.filter((e=>e.meta&&e.meta.title&&!1!==e.meta.breadcrumb))},isDashboard:e=>{const t=e&&e.name;return!!t&&t.toString().trim().toLocaleLowerCase()==="Dashboard".toLocaleLowerCase()},handleLink:t=>{const{redirect:a,path:n}=t;a?ba.push(a):ba.push((t=>{const{params:a}=e;return be(t)(a)})(n))}});return O((()=>e.path),(e=>{e.startsWith("/redirect/")||t.getBreadcrumb()})),b((()=>{t.getBreadcrumb()})),c({},w(t))}});const De=A();_("data-v-d9522d82");const Le={key:0,class:"no-redirect"};h();const Ve=De(((e,t,a,n,s,o)=>{const i=f("el-breadcrumb-item"),r=f("el-breadcrumb");return T(),v(r,{class:"app-breadcrumb",separator:"/"},{default:De((()=>[I(y,{name:"breadcrumb"},{default:De((()=>[(T(!0),v(D,null,L(e.levelList,((t,a)=>(T(),v(i,{key:t.path},{default:De((()=>["noRedirect"===t.redirect||a==e.levelList.length-1?(T(),v("span",Le,V(t.meta.title),1)):(T(),v("a",{key:1,onClick:N((a=>e.handleLink(t)),["prevent"])},V(t.meta.title),9,["onClick"]))])),_:2},1024)))),128))])),_:1})])),_:1})}));we.render=Ve,we.__scopeId="data-v-d9522d82";var Ne=E({name:"Hamburger",props:{isActive:{type:Boolean,default:!1}},emits:["toggle-click"],setup:(e,{emit:t})=>({toggleClick:()=>{t("toggle-click")}})});const ye=A();_("data-v-32468730");const ke=I("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1);h();const Re=ye(((e,t,a,n,s,o)=>(T(),v("div",{style:{padding:"0 15px"},onClick:t[1]||(t[1]=(...t)=>e.toggleClick&&e.toggleClick(...t))},[(T(),v("svg",{class:[{"is-active":e.isActive},"hamburger"],viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},[ke],2))]))));Ne.render=Re,Ne.__scopeId="data-v-32468730";var xe,Pe,He,We,Ge,Me,Fe={exports:{}};
/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/xe=Fe,Pe="undefined"!=typeof window&&void 0!==window.document?window.document:{},He=xe.exports,We=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=0,n=t.length,s={};a<n;a++)if((e=t[a])&&e[1]in Pe){for(a=0;a<e.length;a++)s[t[0][a]]=e[a];return s}return!1}(),Ge={change:We.fullscreenchange,error:We.fullscreenerror},Me={request:function(e,t){return new Promise(function(a,n){var s=function(){this.off("change",s),a()}.bind(this);this.on("change",s);var o=(e=e||Pe.documentElement)[We.requestFullscreen](t);o instanceof Promise&&o.then(s).catch(n)}.bind(this))},exit:function(){return new Promise(function(e,t){if(this.isFullscreen){var a=function(){this.off("change",a),e()}.bind(this);this.on("change",a);var n=Pe[We.exitFullscreen]();n instanceof Promise&&n.then(a).catch(t)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,t){var a=Ge[e];a&&Pe.addEventListener(a,t,!1)},off:function(e,t){var a=Ge[e];a&&Pe.removeEventListener(a,t,!1)},raw:We},We?(Object.defineProperties(Me,{isFullscreen:{get:function(){return Boolean(Pe[We.fullscreenElement])}},element:{enumerable:!0,get:function(){return Pe[We.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(Pe[We.fullscreenEnabled])}}}),He?xe.exports=Me:window.screenfull=Me):He?xe.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};var Be=Fe.exports,Ue=E({name:"Screenfull",setup(){const e=C({isFullscreen:!1,click:()=>{if(!Be.isEnabled)return x({message:"you browser can not work",type:"warning"}),!1;Be.toggle()}});k((()=>{Be.isEnabled&&Be.on("change",t)})),R((()=>{Be.isEnabled&&Be.off("change",t)}));const t=()=>{Be.isEnabled&&(e.isFullscreen=Be.isFullscreen)};return c({},w(e))}});const je=A()(((e,t,a,n,s,o)=>(T(),v("div",null,[I("i",{class:["iconfont screenFullBtn",e.isFullscreen?"icon-zuixiaohua":"icon-quanping1"],onClick:t[1]||(t[1]=(...t)=>e.click&&e.click(...t))},null,2)]))));Ue.render=je,Ue.__scopeId="data-v-a2c3b18a";var $e=E({name:"handerSearch",setup:()=>({})});const Ke=A();_("data-v-33c03b88");const ze={class:""};h();const qe=Ke(((e,t,a,n,s,o)=>(T(),v("div",ze," 搜索 "))));$e.render=qe,$e.__scopeId="data-v-33c03b88";var Ze=E({name:"Navbar",components:{Breadcrumb:we,Hamburger:Ne,Screenfull:Ue,Search:$e},setup(){const e=Ga(),t=p(),a=P(),n=m((()=>e.state.app.sidebar)),s=m((()=>e.state.app.device.toString())),o=m((()=>e.state.user.avatar)),i=C({toggleSideBar:()=>{e.dispatch("app/"+Te.ACTION_TOGGLE_SIDEBAR,!1)},logout:()=>{e.dispatch("user/"+ka.ACTION_LOGIN_OUT),a.push(`/login?redirect=${t.fullPath}`).catch((e=>{console.warn(e)}))}});return c({sidebar:n,device:s,avatar:o},w(i))}});const Xe=A();_("data-v-7dc846f6");const Ye={class:"navbar"},Je={class:"right-menu"},Qe={class:"avatar-wrapper"},et=I("i",{class:"el-icon-caret-bottom"},null,-1),tt=W("个人中心"),at=W("首页"),nt={target:"_blank",href:"https://panjiachen.github.io/vue-element-admin-site/#/"},st=W("Docs"),ot=I("span",{style:{display:"block"}},"退出登录",-1);h();const it=Xe(((e,t,a,n,s,o)=>{const i=f("hamburger"),r=f("breadcrumb"),l=f("screenfull"),c=f("el-dropdown-item"),d=f("router-link"),u=f("el-dropdown-menu"),E=f("el-dropdown");return T(),v("div",Ye,[I(i,{id:"hamburger-container","is-active":e.sidebar.opened,class:"hamburger-container",onToggleClick:e.toggleSideBar},null,8,["is-active","onToggleClick"]),I(r,{id:"breadcrumb-container",class:"breadcrumb-container"}),I("div",Je,["mobile"!==e.device?(T(),v(l,{key:0,id:"screenfull",class:"right-menu-item hover-effect"})):H("",!0),I(E,{class:"avatar-container right-menu-item hover-effect",trigger:"click"},{dropdown:Xe((()=>[I(u,null,{default:Xe((()=>[I(d,{to:"/profile/index"},{default:Xe((()=>[I(c,null,{default:Xe((()=>[tt])),_:1})])),_:1}),I(d,{to:"/"},{default:Xe((()=>[I(c,null,{default:Xe((()=>[at])),_:1})])),_:1}),I("a",nt,[I(c,null,{default:Xe((()=>[st])),_:1})]),I(c,{divided:"",onClick:e.logout},{default:Xe((()=>[ot])),_:1},8,["onClick"])])),_:1})])),default:Xe((()=>[I("div",Qe,[I("img",{src:e.avatar+"?imageView2/1/w/80/h/80",class:"user-avatar"},null,8,["src"]),et])])),_:1})])])}));var rt;Ze.render=it,Ze.__scopeId="data-v-7dc846f6",(rt||(rt={})).CHANGE_SETTING="CHANGE_SETTING";const lt={[rt.CHANGE_SETTING](e,t){const{key:a,value:n}=t;e.hasOwnProperty(a)&&(e[a]=n)}};var ct;(ct||(ct={})).ACTION_CHANGE_SETTING="ACTION_CHANGE_SETTING";const dt={[ct.ACTION_CHANGE_SETTING]({commit:e},t){e(rt.CHANGE_SETTING,t)}};var ut=E({name:"ThemePicker",emits:["change"],setup(e,t){const{loading:a}={loading:e=>G.service({text:e})},n=Ga(),s=M(),o=C({chalk:"",theme:n.state.settings.theme}),i=m((()=>n.state.settings.theme));O(i,(e=>{o.theme=e}));const r=e=>{const t=(e,t)=>{let a=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);return 0===t?[a,n,s].join(","):(a+=Math.round(t*(255-a)),n+=Math.round(t*(255-n)),s+=Math.round(t*(255-s)),`#${a.toString(16)}${n.toString(16)}${s.toString(16)}`)},a=[e];for(let n=0;n<=9;n++)a.push(t(e,Number((n/10).toFixed(2))));return a.push(((e,t)=>{let a=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16);return a=Math.round((1-t)*a),n=Math.round((1-t)*n),s=Math.round((1-t)*s),`#${a.toString(16)}${n.toString(16)}${s.toString(16)}`})(e,.1)),a},l=(e,t,a)=>{let n=e;return t.forEach(((e,t)=>{n=n.replace(new RegExp(e,"ig"),a[t])})),n};return O((()=>o.theme),(async e=>{if(e){const n=o.chalk?o.theme:"#409EFF",i=r(e.replace("#","")),c=r(n.replace("#","")),d=a("加载中");if(!o.chalk){const e=`https://unpkg.com/element-plus@${F.version}/lib/theme-chalk/index.css`;await((e,t)=>new Promise((a=>{const n=new XMLHttpRequest;n.onreadystatechange=()=>{4===n.readyState&&200===n.status&&(s[t]=n.responseText.replace(/@font-face{[^}]+}/,""),a())},n.open("GET",e),n.send()})))(e,"chalk")}((e,t)=>()=>{const a=r("#409EFF".replace("#","")),n=l(s[e],a,i);let o=document.getElementById(t);o||(o=document.createElement("style"),o.setAttribute("id",t),document.head.appendChild(o)),o.innerText=n})("chalk","chalk-style")();let u=[].slice.call(document.querySelectorAll("style"));u=u.filter((e=>{const t=e.innerText;return new RegExp(n,"i").test(t)&&!/Chalk Variables/.test(t)})),u.forEach((e=>{const{innerText:t}=e;"string"==typeof t&&(e.innerText=l(t,c,i))})),t.emit("change",e),d.close()}})),c({defaultTheme:i},w(o))}});ut.render=function(e,t,a,n,s,o){const i=f("el-color-picker");return T(),v(i,{modelValue:e.theme,"onUpdate:modelValue":t[1]||(t[1]=t=>e.theme=t),predefine:["#409EFF","#1890ff","#304156","#212121","#11a983","#13c2c2","#6959CD","#f5222d"],class:"theme-picker","popper-class":"theme-picker-dropdown"},null,8,["modelValue"])};var Et=E({name:"Settings",components:{ThemePicker:ut},setup(){const e=Ga(),t=C({fixedHeader:e.state.settings.fixedHeader,showTagsView:e.state.settings.tagsView,showSidebarLogo:e.state.settings.sidebarLogo,themeChange:t=>{e.dispatch("settings/"+ct.ACTION_CHANGE_SETTING,{key:"theme",value:t})}});return O((()=>t.fixedHeader),(t=>{e.dispatch("settings/"+ct.ACTION_CHANGE_SETTING,{key:"fixedHeader",value:t})})),O((()=>t.showTagsView),(t=>{e.dispatch("settings/"+ct.ACTION_CHANGE_SETTING,{key:"showTagsView",value:t})})),O((()=>t.showSidebarLogo),(t=>{e.dispatch("settings/"+ct.ACTION_CHANGE_SETTING,{key:"showSidebarLogo",value:t})})),c({},w(t))}});const pt=A();_("data-v-b6f56670");const mt={class:"drawer-container"},_t=I("h3",{class:"drawer-title"}," 系统布局配置 ",-1),ht={class:"drawer-item"},ft=I("span",null,"主题色",-1),Tt={class:"drawer-item"},vt=I("span",null,"显示 Tags-View",-1),It={class:"drawer-item"},gt=I("span",null,"显示侧边栏 Logo",-1),St={class:"drawer-item"},At=I("span",null,"固定 Header",-1);h();const Ct=pt(((e,t,a,n,s,o)=>{const i=f("ThemePicker"),r=f("el-switch");return T(),v("div",mt,[I("div",null,[_t,I("div",ht,[ft,I(i,{style:{float:"right",height:"26px",margin:"-3px 8px 0 0"},onChange:e.themeChange},null,8,["onChange"])]),I("div",Tt,[vt,I(r,{modelValue:e.showTagsView,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showTagsView=t),class:"drawer-switch"},null,8,["modelValue"])]),I("div",It,[gt,I(r,{modelValue:e.showSidebarLogo,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showSidebarLogo=t),class:"drawer-switch"},null,8,["modelValue"])]),I("div",St,[At,I(r,{modelValue:e.fixedHeader,"onUpdate:modelValue":t[3]||(t[3]=t=>e.fixedHeader=t),class:"drawer-switch"},null,8,["modelValue"])])])])}));Et.render=Ct,Et.__scopeId="data-v-b6f56670";const Ot="VITE ELEMENT ADMIN",bt=!0,wt=!0,Dt=!0,Lt=!0;var Vt=E({name:"Logo",props:{collapse:{type:Boolean,default:!0}},setup:()=>({title:Ot,logo:"https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png"})});const Nt=A();_("data-v-1320f568");const yt={key:1,class:"sidebar-title"},kt={class:"sidebar-title"};h();const Rt=Nt(((e,t,a,n,s,o)=>{const i=f("router-link");return T(),v("div",{class:["sidebar-logo-container",{collapse:e.collapse}]},[I(S,{name:"sidebarLogoFade"},{default:Nt((()=>[e.collapse?(T(),v(i,{key:"collapse",class:"sidebar-logo-link",to:"/"},{default:Nt((()=>[e.logo?(T(),v("img",{key:0,src:e.logo,class:"sidebar-logo"},null,8,["src"])):(T(),v("h1",yt,V(e.title),1))])),_:1})):(T(),v(i,{key:"expand",class:"sidebar-logo-link",to:"/"},{default:Nt((()=>[e.logo?(T(),v("img",{key:0,src:e.logo,class:"sidebar-logo"},null,8,["src"])):H("",!0),I("h1",kt,V(e.title),1)])),_:1}))])),_:1})],2)}));Vt.render=Rt,Vt.__scopeId="data-v-1320f568";const xt=e=>["admin","editor"].indexOf(e.trim())>=0;function Pt(e){return/^(https?:|mailto:|tel:)/.test(e)}var Ht=E({name:"Link",props:{to:{type:String,required:!0}},setup(e){const t=m((()=>Pt(e.to)));return{linkProps:e=>t.value?{href:e,target:"_blank",rel:"noopener"}:{to:e},type:m((()=>t.value?"a":"router-link"))}}});const Wt=A(),Gt=Wt(((e,t,a,n,s,o)=>(T(),v(U(e.type),e.linkProps(e.to),{default:Wt((()=>[B(e.$slots,"default",{},void 0,!0)])),_:3},16))));Ht.render=Gt,Ht.__scopeId="data-v-41f2ca66";var Mt=E({name:"SidebarItem",components:{AppLink:Ht},props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},setup(e){const t=j();return{onlyOneChild:t,hasOneShowingChild:(e=[],a)=>{const n=e.filter((e=>!e.meta.hidden&&(t.value=e,!0)));return 1===n.length||0===n.length&&(t.value=d(c({},a),{path:"",noShowingChildren:!0}),!0)},resolvePath:t=>Pt(t)?t:Pt(e.basePath)?e.basePath:$.resolve(e.basePath,t)}}});const Ft=A();_("data-v-732a47f8");const Bt={key:0},Ut={key:0};h();const jt=Ft(((e,t,a,n,s,o)=>{const i=f("el-menu-item"),r=f("app-link"),l=f("sidebar-item",!0),c=f("el-submenu");return e.item.meta&&e.item.meta.hidden?H("",!0):(T(),v("div",Bt,[!e.hasOneShowingChild(e.item.children,e.item)||e.onlyOneChild.children&&!e.onlyOneChild.noShowingChildren||e.item.alwaysShow?(T(),v(c,{key:1,ref:"subMenu",index:e.resolvePath(e.item.path),"popper-append-to-body":""},K({default:Ft((()=>[(T(!0),v(D,null,L(e.item.children,(t=>(T(),v(l,{key:t.path,"is-nest":!0,item:t,"base-path":e.resolvePath(t.path),class:"nest-menu"},null,8,["item","base-path"])))),128))])),_:2},[e.item.meta?{name:"title",fn:Ft((()=>[I("i",{class:["iconfont sub-el-icon",e.item.meta&&e.item.meta.icon]},null,2),e.item.meta.title?(T(),v("span",Ut,V(e.item.meta.title),1)):H("",!0)]))}:void 0]),1032,["index"])):(T(),v(D,{key:0},[e.onlyOneChild.meta?(T(),v(r,{key:0,to:e.resolvePath(e.onlyOneChild.path)},{default:Ft((()=>[I(i,{index:e.resolvePath(e.onlyOneChild.path),class:{"submenu-title-noDropdown":!e.isNest}},K({default:Ft((()=>[I("i",{class:["iconfont sub-el-icon",e.onlyOneChild.meta.icon||e.item.meta&&e.item.meta.icon]},null,2)])),_:2},[e.onlyOneChild.meta.title?{name:"title",fn:Ft((()=>[W(V(e.onlyOneChild.meta.title),1)]))}:void 0]),1032,["index","class"])])),_:1},8,["to"])):H("",!0)],64))]))}));Mt.render=jt,Mt.__scopeId="data-v-732a47f8";var $t={menuText:"#bfcbd9",menuActiveText:"#409EFF",subMenuActiveText:"#f4f4f5",menuBg:"#304156",menuHover:"#263445",subMenuBg:"#1f2d3d",subMenuHover:"#001528",sideBarWidth:"210px"},Kt=E({name:"Sidebar",components:{Logo:Vt,SidebarItem:Mt},setup(){const e=Ga(),t=p(),a=m((()=>e.state.app.sidebar)),n=m((()=>e.state.permission.routes)),s=m((()=>e.state.settings.sidebarLogo)),o=m((()=>{const{meta:e,path:a}=t;return null===e&&void 0===e||!e.activeMenu?a:e.activeMenu})),i=m((()=>!a.value.opened));return{sidebar:a,routes:n,showLogo:s,variables:$t,activeMenu:o,isCollapse:i}}});const zt=A(),qt=zt(((e,t,a,n,s,o)=>{const i=f("logo"),r=f("sidebar-item"),l=f("el-menu"),c=f("el-scrollbar");return T(),v("div",{class:{"has-logo":e.showLogo}},[e.showLogo?(T(),v(i,{key:0,collapse:e.isCollapse},null,8,["collapse"])):H("",!0),I(c,{"wrap-class":"scrollbar-wrapper"},{default:zt((()=>[I(l,{"default-active":e.activeMenu,collapse:e.isCollapse,"background-color":e.variables.menuBg,"text-color":e.variables.menuText,"unique-opened":!1,"active-text-color":e.variables.menuActiveText,"collapse-transition":!1,mode:"vertical"},{default:zt((()=>[(T(!0),v(D,null,L(e.routes,(e=>(T(),v(r,{key:e.path,item:e,"base-path":e.path},null,8,["item","base-path"])))),128))])),_:1},8,["default-active","collapse","background-color","text-color","active-text-color"])])),_:1})],2)}));var Zt,Xt;Kt.render=qt,Kt.__scopeId="data-v-603fcfce",(Xt=Zt||(Zt={})).ADD_VISITED_VIEW="ADD_VISITED_VIEW",Xt.ADD_CACHED_VIEW="ADD_CACHED_VIEW",Xt.DEL_VISITED_VIEW="DEL_VISITED_VIEW",Xt.DEL_CACHED_VIEW="DEL_CACHED_VIEW",Xt.DEL_OTHERS_VISITED_VIEWS="DEL_OTHERS_VISITED_VIEWS",Xt.DEL_OTHERS_CACHED_VIEWS="DEL_OTHERS_CACHED_VIEWS",Xt.DEL_ALL_VISITED_VIEWS="DEL_ALL_VISITED_VIEWS",Xt.DEL_ALL_CACHED_VIEWS="DEL_ALL_CACHED_VIEWS",Xt.UPDATE_VISITED_VIEW="UPDATE_VISITED_VIEW";const Yt={[Zt.ADD_VISITED_VIEW](e,t){var a;e.visitedViews.some((e=>e.path===t.path))||e.visitedViews.push(Object.assign({},t,{title:(null==(a=t.meta)?void 0:a.title)||"no-name"}))},[Zt.ADD_CACHED_VIEW](e,t){var a,n,s;null!==t.name&&(e.cachedViews.includes(null==(a=t.name)?void 0:a.toString())||(null==(n=t.meta)?void 0:n.noCache)||e.cachedViews.push(null==(s=t.name)?void 0:s.toString()))},[Zt.DEL_VISITED_VIEW](e,t){for(const[a,n]of e.visitedViews.entries())if(n.path===t.path){e.visitedViews.splice(a,1);break}},[Zt.DEL_CACHED_VIEW](e,t){var a;if(null===t.name)return;const n=e.cachedViews.indexOf(null==(a=t.name)?void 0:a.toString());n>-1&&e.cachedViews.splice(n,1)},[Zt.DEL_OTHERS_VISITED_VIEWS](e,t){e.visitedViews=e.visitedViews.filter((e=>{var a;return(null==(a=e.meta)?void 0:a.affix)||e.path===t.path}))},[Zt.DEL_OTHERS_CACHED_VIEWS](e,t){var a;if(null===t.name)return;const n=e.cachedViews.indexOf(null==(a=t.name)?void 0:a.toString());e.cachedViews=n>-1?e.cachedViews.slice(n,n+1):[]},[Zt.DEL_ALL_VISITED_VIEWS](e){const t=e.visitedViews.filter((e=>{var t;return null==(t=e.meta)?void 0:t.affix}));e.visitedViews=t},[Zt.DEL_ALL_CACHED_VIEWS](e){e.cachedViews=[]},[Zt.UPDATE_VISITED_VIEW](e,t){for(let a of e.visitedViews)if(a.path===t.path){a=Object.assign(a,t);break}}};var Jt,Qt;(Qt=Jt||(Jt={})).ACTION_ADD_VIEW="ACTION_ADD_VIEW",Qt.ACTION_ADD_VISITED_VIEW="ACTION_ADD_VISITED_VIEW",Qt.ACTION_DEL_VIEW="ACTION_DEL_VIEW",Qt.ACTION_DEL_OTHER_VIEW="ACTION_DEL_OTHER_VIEW",Qt.ACTION_DEL_CACHED_VIEW="ACTION_DEL_CACHED_VIEW",Qt.ACTION_OTHER_VIEWS="ACTION_OTHER_VIEWS",Qt.ACTION_DEL_ALL_VIEWS="ACTION_DEL_ALL_VIEWS",Qt.ACTION_DEL_ALL_CACHED_VIEWS="ACTION_DEL_ALL_CACHED_VIEWS",Qt.ACTION_UPDATE_VISITED_VIEW="ACTION_UPDATE_VISITED_VIEW";const ea={async[Jt.ACTION_ADD_VIEW]({commit:e},t){e(Zt.ADD_VISITED_VIEW,t),e(Zt.ADD_CACHED_VIEW,t)},[Jt.ACTION_ADD_VISITED_VIEW]({commit:e},t){e(Zt.ADD_VISITED_VIEW,t)},[Jt.ACTION_DEL_VIEW]({commit:e},t){e(Zt.DEL_VISITED_VIEW,t),e(Zt.DEL_CACHED_VIEW,t)},[Jt.ACTION_DEL_OTHER_VIEW]({commit:e},t){e(Zt.DEL_OTHERS_VISITED_VIEWS,t),e(Zt.DEL_OTHERS_CACHED_VIEWS,t)},[Jt.ACTION_DEL_CACHED_VIEW]({commit:e},t){e(Zt.DEL_CACHED_VIEW,t)},[Jt.ACTION_OTHER_VIEWS]({commit:e},t){e(Zt.DEL_OTHERS_VISITED_VIEWS,t),e(Zt.DEL_OTHERS_CACHED_VIEWS,t)},[Jt.ACTION_DEL_ALL_VIEWS]({commit:e}){e(Zt.DEL_ALL_VISITED_VIEWS),e(Zt.DEL_ALL_CACHED_VIEWS)},[Jt.ACTION_DEL_ALL_CACHED_VIEWS]({commit:e}){e(Zt.DEL_ALL_CACHED_VIEWS)},[Jt.ACTION_UPDATE_VISITED_VIEW]({commit:e},t){e(Zt.UPDATE_VISITED_VIEW,t)}};var ta=E({name:"ScrollPanel",emits:["scroll"],setup(e,t){const a=j(null),n=m((()=>a.value.$refs.wrap)),{ctx:s}=M(),o=C({handleScroll:e=>{const t=e.wheelDelta||40*-e.deltaY;n.value.scrollLeft=n.value.scrollLeft+t/4},moveToCurrentTag:e=>{const t=a.value.$el.offsetWidth,o=s.$parent.$refs.tag;let i=null,r=null;if(o.length>0&&(i=o[0],r=o[o.length-1]),i===e)n.value.scrollLeft=0;else if(r===e)n.value.scrollLeft=n.value.scrollWidth-t;else{const a=o.findIndex((t=>t===e)),s=o[a-1],i=o[a+1],r=i.$el.offsetLeft+i.$el.offsetWidth+4,l=s.$el.offsetLeft-4;r>n.value.scrollLeft+t?n.value.scrollLeft=r-t:l<n.value.scrollLeft&&(n.value.scrollLeft=l)}}}),i=()=>{t.emit("scroll")};return k((()=>{n.value.addEventListener("scroll",i,!0)})),R((()=>{n.value.removeEventListener("scroll",i)})),c({scrollContainerRef:a},w(o))}});const aa=A(),na=aa(((e,t,a,n,s,o)=>{const i=f("el-scrollbar");return T(),v(i,{ref:"scrollContainerRef",class:"scroll-container",vertical:!1,onWheel:N(e.handleScroll,["prevent"])},{default:aa((()=>[B(e.$slots,"default",{},void 0,!0)])),_:3},8,["onWheel"])}));ta.render=na,ta.__scopeId="data-v-30f04787";var sa=E({name:"TagsView",components:{ScrollPane:ta},setup(){const e=Ga(),t=P(),a=M(),n=p(),s=j(null),{ctx:o}=a,i=(e,a)=>{const n=e.slice(-1)[0];void 0!==n&&void 0!==n.fullPath?t.push(n.fullPath).catch((e=>{console.warn(e)})):"Dashboard"===a.name?t.push({path:"/redirect"+a.fullPath}).catch((e=>{console.warn(e)})):t.push("/").catch((e=>{console.warn(e)}))},r=C({visible:!1,top:0,left:0,selectedTag:{},affixTags:[],isActive:e=>e.path===n.path,isAffix:e=>e.meta&&e.meta.affix,refreshSelectedTag:a=>{e.dispatch("tagsView/"+Jt.ACTION_DEL_CACHED_VIEW,a);const{fullPath:n}=a;z((()=>{t.replace({path:"/redirect"+n}).catch((e=>{console.warn(e)}))}))},closeSelectedTag:t=>{e.dispatch("tagsView/"+Jt.ACTION_DEL_VIEW,t),r.isActive(t)&&i(e.state.tagsView.visitedViews,t)},closeOthersTags:()=>{r.selectedTag.fullPath!==n.path&&void 0!==r.selectedTag.fullPath&&t.push(r.selectedTag.fullPath).catch((e=>{console.log(e)})),e.dispatch("tagsView/"+Jt.ACTION_DEL_OTHER_VIEW,r.selectedTag)},closeAllTags:t=>{e.dispatch("tagsView/"+Jt.ACTION_DEL_ALL_VIEWS,void 0),r.affixTags.some((e=>e.path===n.path))||i(e.state.tagsView.visitedViews,t)},openMenu:(e,t)=>{const a=o.$el.getBoundingClientRect().left,n=o.$el.offsetWidth-105,s=t.clientX-a+15;r.left=s>n?n:s,r.top=t.clientY,r.visible=!0,r.selectedTag=e},closeMenu:()=>{r.visible=!1},handleScroll:()=>{r.closeMenu()}}),l=m((()=>e.state.tagsView.visitedViews)),d=m((()=>e.state.permission.routes)),u=(e,t="/")=>{let a=[];return e.forEach((e=>{if(e.meta&&e.meta.affix){const n=$.resolve(t,e.path);a.push({fullPath:n,path:n,name:e.name,meta:c({},e.meta)})}if(e.children){const t=u(e.children,e.path);t.length>=1&&(a=a.concat(t))}})),a},E=()=>(n.name&&(console.log(n.name,"currentRoute.namecurrentRoute.namecurrentRoute.namecurrentRoute.namecurrentRoute.namecurrentRoute.namecurrentRoute.namecurrentRoute.name"),e.dispatch("tagsView/"+Jt.ACTION_ADD_VIEW,n)),!1);return O((()=>n.name),(()=>{"Login"!==n.name&&(E(),(()=>{const t=null==a?void 0:a.refs.tag;z((()=>{if(null!=t&&Array.isArray(t))for(const a of t)a.to.path===n.path&&(s.value.moveToCurrentTag(a),a.to.fullPath!==n.fullPath&&e.dispatch("tagsView/"+Jt.ACTION_UPDATE_VISITED_VIEW,n))}))})())})),O((()=>r.visible),(e=>{e?document.body.addEventListener("click",r.closeMenu):document.body.removeEventListener("click",r.closeMenu)})),b((()=>{(()=>{r.affixTags=u(d.value);for(const t of r.affixTags)t.name&&e.dispatch("tagsView/"+Jt.ACTION_ADD_VISITED_VIEW,t)})(),E()})),c({visitedViews:l,routes:d,scrollPaneRef:s},w(r))}});const oa=A();_("data-v-a8f3d570");const ia={id:"tags-view-container",class:"tags-view-container"};h();const ra=oa(((e,t,a,n,s,o)=>{const i=f("router-link"),r=f("scroll-pane");return T(),v("div",ia,[I(r,{ref:"scrollPaneRef",class:"tags-view-wrapper",onScroll:e.handleScroll},{default:oa((()=>[(T(!0),v(D,null,L(e.visitedViews,(t=>(T(),v(i,{ref:"tag",key:t.path,class:[e.isActive(t)?"active":"","tags-view-item"],to:{path:t.path,query:t.query,fullPath:t.fullPath},tag:"span",onMouseup:N((a=>e.isAffix(t)?"":e.closeSelectedTag(t)),["middle"]),onContextmenu:N((a=>e.openMenu(t,a)),["prevent"])},{default:oa((()=>[W(V(t.title)+" ",1),e.isAffix(t)?H("",!0):(T(),v("span",{key:0,class:"el-icon-close",onClick:N((a=>e.closeSelectedTag(t)),["prevent","stop"])},null,8,["onClick"]))])),_:2},1032,["class","to","onMouseup","onContextmenu"])))),128))])),_:1},8,["onScroll"]),q(I("ul",{style:{left:e.left+"px",top:e.top+"px"},class:"contextmenu"},[I("li",{onClick:t[1]||(t[1]=t=>e.refreshSelectedTag(e.selectedTag))},"刷新"),e.isAffix(e.selectedTag)?H("",!0):(T(),v("li",{key:0,onClick:t[2]||(t[2]=t=>e.closeSelectedTag(e.selectedTag))},"关闭")),I("li",{onClick:t[3]||(t[3]=(...t)=>e.closeOthersTags&&e.closeOthersTags(...t))},"关闭其他"),I("li",{onClick:t[4]||(t[4]=t=>e.closeAllTags(e.selectedTag))},"全部关闭")],4),[[Z,e.visible]])])}));function la(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}sa.render=ra,sa.__scopeId="data-v-a8f3d570";var ca=E({name:"RightPanel",props:{clickNotClose:{default:!1,type:Boolean},buttonTop:{default:250,type:Number}},setup(e){let t=j(!1);const a=j(null),n=Ga(),s=m((()=>n.state.settings.theme));O(t,(t=>{var a,n;t&&e.clickNotClose&&o.addEventClick(),t?la(a=document.body,n="showRightPanel")||(a.className+=" "+n):function(e,t){if(la(e,t)){const a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," ")}}(document.body,"showRightPanel")}));const o=C({addEventClick:()=>{window.addEventListener("click",o.closeSidebar)},closeSidebar:e=>{e.target.closest(".rightPanel")||(t.value=!1,window.removeEventListener("click",o.closeSidebar))},insertToBody(){const e=a.value,t=document.querySelector("body");t.insertBefore(e,t.firstChild)}});return c({show:t,theme:s,rightPanel:a},w(o))}});const da=A();_("data-v-df6c6e4e");const ua={class:"rightPanel"},Ea={class:"rightPanel-items"};h();const pa=da(((e,t,a,n,s,o)=>(T(),v("div",{ref:"rightPanel",class:[{show:e.show},"rightPanel-container"]},[I("div",{class:"rightPanel-background",onClick:t[1]||(t[1]=t=>e.show=!e.show)}),I("div",ua,[I("div",{class:"handle-button",style:{top:e.buttonTop+"px",backgroundColor:e.theme},onClick:t[2]||(t[2]=t=>e.show=!e.show)},[I("i",{class:e.show?"el-icon-close":"el-icon-setting"},null,2)],4),I("div",Ea,[B(e.$slots,"default",{},void 0,!0)])])],2))));ca.render=pa,ca.__scopeId="data-v-df6c6e4e";var ma=E({name:"Layout",components:{RightPanel:ca,AppMain:ge,Navbar:Ze,Settings:Et,TagsView:sa,Sidebar:Kt},setup(){const e=Ga(),t=m((()=>e.state.app.device)),a=m((()=>e.state.app.sidebar)),n=p(),s=O((()=>n.name),(()=>{e.state.app.device===Ee.Mobile&&e.state.app.sidebar.opened&&e.dispatch("app/"+Te.ACTION_CLOSE_SIDEBAR,!1)})),o=()=>document.body.getBoundingClientRect().width-1<992,i=()=>{document.hidden||(e.dispatch("app/"+Te.ACTION_TOGGLE_DEVICE,o()?Ee.Mobile:Ee.Desktop),o()&&e.dispatch("app/"+Te.ACTION_CLOSE_SIDEBAR,!0))},r=C({handleClickOutside:()=>{e.dispatch("app/"+Te.ACTION_CLOSE_SIDEBAR,!1)}}),l=m((()=>({hideSidebar:!a.value.opened,openSidebar:a.value.opened,withoutAnimation:a.value.withoutAnimation,mobile:t.value===Ee.Mobile}))),d=m((()=>e.state.settings.showSettings)),u=m((()=>e.state.settings.tagsView)),E=m((()=>e.state.settings.fixedHeader));return s(),b((()=>{window.addEventListener("resize",i)})),k((()=>{o()&&(e.dispatch("app/"+Te.ACTION_TOGGLE_DEVICE,Ee.Mobile),e.dispatch("app/"+Te.ACTION_CLOSE_SIDEBAR,!0))})),R((()=>{window.removeEventListener("resize",i)})),c({classObj:l,sidebar:a,showSettings:d,showTagsView:u,fixedHeader:E},w(r))}});const _a=A(),ha=_a(((e,t,a,n,s,o)=>{const i=f("sidebar"),r=f("navbar"),l=f("tags-view"),c=f("app-main"),d=f("settings"),u=f("right-panel");return T(),v("div",{class:[e.classObj,"app-wrapper"]},[e.classObj.mobile&&e.sidebar.opened?(T(),v("div",{key:0,class:"drawer-bg",onClick:t[1]||(t[1]=(...t)=>e.handleClickOutside&&e.handleClickOutside(...t))})):H("",!0),I(i,{class:"sidebar-container"}),I("div",{class:[{hasTagsView:e.showTagsView},"main-container"]},[I("div",{class:{"fixed-header":e.fixedHeader}},[I(r),e.showTagsView?(T(),v(l,{key:0})):H("",!0)],2),I(c),e.showSettings?(T(),v(u,{key:0},{default:_a((()=>[I(d)])),_:1})):H("",!0)],2)],2)}));ma.render=ha,ma.__scopeId="data-v-6fab523d";const fa=[{path:"/profile",component:ma,redirect:"/profile/index",meta:{hidden:!0},children:[{path:"index",component:()=>re((()=>import("./index.08a1b3ce.js")),["/assets/index.08a1b3ce.js","/assets/vendor.747455e6.js"]),name:"Profile",meta:{title:"个人中心",icon:"icon-shanghu",noCache:!0}}]},{path:"/component",component:ma,redirect:"/component/index",meta:{title:"组件列表",icon:"icon-shanghu"},children:[{path:"index",component:()=>re((()=>import("./index.d20314d3.js")),["/assets/index.d20314d3.js","/assets/vendor.747455e6.js"]),name:"Component",meta:{title:"组件",icon:"icon-shanghu"}},{path:"index2",component:()=>re((()=>import("./index2.ec7c9f81.js")),["/assets/index2.ec7c9f81.js","/assets/vendor.747455e6.js"]),name:"Component2",meta:{title:"组件2",icon:"icon-shanghu"}},{path:"index3",component:()=>re((()=>import("./index2.ec7c9f81.js")),["/assets/index2.ec7c9f81.js","/assets/vendor.747455e6.js"]),name:"Component3",meta:{title:"组件3",icon:"icon-shanghu"}}]}];var Ta=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fa});const va=[{path:"/login",name:"Login",component:()=>re((()=>import("./index.18bcb0ac.js")),["/assets/index.18bcb0ac.js","/assets/index.5bb35de0.css","/assets/vendor.747455e6.js"]),meta:{hidden:!0}},{path:"/401",name:"401",component:()=>re((()=>import("./401.49562197.js")),["/assets/401.49562197.js","/assets/401.38f524cf.css","/assets/vendor.747455e6.js"]),meta:{hidden:!0}},{path:"/404",name:"404",component:()=>re((()=>import("./404.8f8a9ec1.js")),["/assets/404.8f8a9ec1.js","/assets/404.2b9dcd22.css","/assets/vendor.747455e6.js"]),meta:{hidden:!0}}];let Ia=[],ga=[];const Sa={"./constantModules/index.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:va})},Aa={"./permissionModules/index.ts":Ta};for(const $a in Sa)Ia=Ia.concat(Sa[$a].default);for(const $a in Aa)ga=ga.concat(Aa[$a].default);const Ca=[{path:"/redirect",component:ma,meta:{hidden:!0},children:[{path:"/redirect/:path(.*)",component:()=>re((()=>import("./index.83a8f692.js")),["/assets/index.83a8f692.js","/assets/vendor.747455e6.js"])}]},{path:"/",component:ma,redirect:"/dashboard",children:[{path:"dashboard",component:()=>re((()=>import("./index.46e04a96.js")),["/assets/index.46e04a96.js","/assets/vendor.747455e6.js"]),name:"Dashboard",meta:{title:"首页",icon:"icon-shanghu",affix:!0}}]},...Ia],Oa=[...ga],ba=X({history:Y(),routes:Ca});var wa;(wa||(wa={})).SET_ROUTES="SET_ROUTES";const Da={[wa.SET_ROUTES](e,t){e.routes=Ca.concat(t),e.dynamicRoutes=t}};var La;(La||(La={})).ACTION_SET_ROUTES="ACTION_SET_ROUTES";const Va=(e,t)=>{const a=[];return e.forEach((e=>{const n=c({},e);((e,t)=>!t.meta||!t.meta.roles||e.some((e=>{var a;if(void 0!==(null==(a=t.meta)?void 0:a.roles))return t.meta.roles.includes(e)})))(t,n)&&(n.children&&(n.children=Va(n.children,t)),a.push(n))})),a},Na={[La.ACTION_SET_ROUTES]({commit:e},t){let a;a=t.includes("admin")?Oa:Va(Oa,t),e(wa.SET_ROUTES,a)}},ya={token:u.get(le.tokenKey)||"",name:"",avatar:"",introduction:"",roles:[],email:""};var ka,Ra;(Ra=ka||(ka={})).ACTION_LOGIN="ACTION_LOGIN",Ra.ACTION_RESET_TOKEN="ACTION_RESET_TOKEN",Ra.ACTION_GET_USER_INFO="ACTION_GET_USER_INFO",Ra.ACTION_CHANGE_ROLES="ACTION_CHANGE_ROLES",Ra.ACTION_LOGIN_OUT="ACTION_LOGIN_OUT";const xa={async[ka.ACTION_LOGIN]({commit:t},a){let{username:n,password:s}=a;n=n.trim(),await new Promise((e=>{console.log("登录"),e({code:200,data:{accessToken:"admin-token"},msg:"success"})})).then((async a=>{a.data.accessToken&&(de(a.data.accessToken),t(e.SET_TOKEN,a.data.accessToken))})).catch((e=>{console.log(e)}))},[ka.ACTION_RESET_TOKEN]({commit:t}){ue(),t(e.SET_TOKEN,""),t(e.SET_ROLES,[])},async[ka.ACTION_GET_USER_INFO]({commit:t}){if(""===ya.token)throw Error("token is undefined!");await new Promise((e=>{console.log("获取用户信息"),e({code:200,data:{id:0,username:"admin",password:"any",name:"Super Admin",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",email:"admin@test.com",introduction:"I am a super administrator",phone:"1234567890",roles:["admin"]},msg:"success"})})).then((a=>{if(200===a.code)return t(e.SET_ROLES,a.data.roles),t(e.SET_NAME,a.data.name),t(e.SET_AVATAR,a.data.avatar),t(e.SET_INTRODUCTION,a.data.introduction),t(e.SET_EMAIL,a.data.email),a;throw Error("Verification failed, please Login again.")}))},async[ka.ACTION_CHANGE_ROLES]({commit:t},a){const n=a+"-token",s=Ga();t(e.SET_TOKEN,n),de(n),await s.dispatch(ka.ACTION_GET_USER_INFO,void 0),s.dispatch(La.ACTION_SET_ROUTES,ya.roles),s.state.permission.dynamicRoutes.forEach((e=>{ba.addRoute(e)}))},[ka.ACTION_LOGIN_OUT]({commit:t}){console.log(t),ue(),t(e.SET_TOKEN,""),t(e.SET_ROLES,[]),function(){const e=ba;ba.matcher=e.matcher}()}};var Pa="#1890ff";var Ha=J({plugins:[],state:{},getters:{},mutations:{},actions:{},modules:{user:{namespaced:!0,state:ya,mutations:se,actions:xa},settings:{namespaced:!0,state:{theme:Pa,fixedHeader:Dt,showSettings:bt,tagsView:Lt,sidebarLogo:wt},mutations:lt,actions:dt},tagsView:{namespaced:!0,state:{visitedViews:[],cachedViews:[]},mutations:Yt,actions:ea},app:{namespaced:!0,state:me,mutations:fe,actions:Ie},permission:{namespaced:!0,state:{routes:[],dynamicRoutes:[]},mutations:Da,actions:Na}}});const Wa=Symbol("vue-store");function Ga(){return Q(Wa)}var Ma=E({setup(){Ga()}});Ma.render=function(e,t,a,n,s,o){const i=f("router-view");return T(),v(i)};const Fa=["/login","/auth-redirect"];ee.configure({showSpinner:!1}),ba.beforeEach((async(e,t,a)=>{if(ee.start(),Ha.state.user.token)if("/login"===e.path)a({path:"/"}),ee.done();else if(0===Ha.state.user.roles.length)try{await Ha.dispatch("user/"+ka.ACTION_GET_USER_INFO,void 0);const t=Ha.state.user.roles;Ha.dispatch("permission/"+La.ACTION_SET_ROUTES,t),Ha.state.permission.dynamicRoutes.forEach((e=>{ba.addRoute(e)})),a(d(c({},e),{replace:!0}))}catch(n){Ha.dispatch("user/"+ka.ACTION_RESET_TOKEN,void 0),console.log(n),x.error(n||"Has Error"),a(`/login?redirect=${e.path}`),ee.done()}else a();else-1!==Fa.indexOf(e.path)?a():(a(`/login?redirect=${e.path}`),ee.done())})),ba.afterEach((e=>{ee.done()}));var Ba=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(e){e.use(te)}});var Ua=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(e){e.config.globalProperties.$_=ae}});const ja=ne(Ma);!function(e){const t={"./element.ts":Ba,"./lodash.ts":Ua};for(const a in t)"function"==typeof t[a].default&&t[a].default(e)}(ja),ja.use(Ha,Wa).use(ba).mount("#app");export{ka as U,xt as i,Ga as u};
